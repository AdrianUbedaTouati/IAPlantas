def crear_graficas(datos_por_plantas,pred_por_plantas,indicePlanta,dias,fecha_datos_plantas,indice_1,indice_2,titulo):
    global pagina_abierta

    nombres = []
    diferencia_humedad_plantas = []

    humedad_actual_por_planta = []
    humedad_pred_por_planta = []
    for i in range(len(datos_por_plantas)):
        humedad_actual_por_planta.append(float(datos_por_plantas[i][-1]))
        humedad_pred_por_planta.append(float(pred_por_plantas[i][-1]))
        diferencia_humedad_plantas.append(abs(float(datos_por_plantas[i][-1]) - float(pred_por_plantas[i][-1])))
        nombres.append(f"Planta {i + 1}")

    # Redondeamos los valores
    humedad_actual_por_planta = np.round(humedad_actual_por_planta, 1)
    humedad_pred_por_planta = np.round(humedad_pred_por_planta, 1)
    diferencia_humedad_plantas = np.round(diferencia_humedad_plantas, 1)

    for i in range(len(datos_por_plantas)):
        if diferencia_humedad_plantas[i] >= alterta_diferencia_humedad_roja or humedad_actual_por_planta[i] < 25:
            nombres[i] = nombres[i] + "游댮"
        elif diferencia_humedad_plantas[i] >= alterta_diferencia_humedad_amarilla:
            nombres[i] = nombres[i] + "游리"
        else:
            nombres[i] = nombres[i] + "游릭"

    nombres_grafica = []

    for i in range(len(nombres)):
        nombres_grafica.append(nombres[i])

    fig = make_subplots(rows=num_lineas_pagina, cols=num_columnas_pagina, subplot_titles=nombres)

    color_verde = 'rgb(46, 204, 113)'  # Verde
    color_azul = 'rgb(52, 152, 219)'  # Azul

    c=0
    for i in range(int(len(datos_por_plantas)/2)):
        for j in range(2):
            fecha_datos = fecha_datos_plantas[c]
            dato_por_planta = datos_por_plantas[c]
            pred_por_planta = pred_por_plantas[c]

            fig.add_trace(go.Scatter(x=fecha_datos, y=dato_por_planta, mode='lines', name=indice_1, marker=dict(color = color_azul)), row = i+1, col = j+1)
            fig.add_trace(go.Scatter(x=fecha_datos, y=pred_por_planta, mode='lines', name=indice_2, marker=dict(color = color_verde)), row=i + 1, col=j + 1)
            c= c+1

    # Personalizar el dise침o del gr치fico
    fig.update_layout(
        title=titulo,
        xaxis=dict(title='Fecha de los datos'),
        yaxis=dict(title='Humedad'),
        showlegend=True,
        hovermode='closest'
    )

    fig.update_layout(height=3500)

    tabla = go.Figure(data=[go.Table(
        header=dict(values=['Estado plantas', 'Humedad necesaria', 'Humedad actual', 'Diferencia']),
        cells=dict(values=[nombres, humedad_pred_por_planta, humedad_actual_por_planta, diferencia_humedad_plantas])
    )])

    tabla.update_layout(height=600)

    tabla.write_html('pagina_de_control.html')

    fig.write_html('graficas.html')

    insertar_elemento_final_pagina('graficas.html')

    if not(pagina_abierta):
        pagina_abierta = True
        abrir_html_en_navegador()